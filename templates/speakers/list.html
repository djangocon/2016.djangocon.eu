{% extends 'base.html' %}

{% load randomify %}

{% block content %}
<section class="container">
    <h1>Speakers</h1>
</section>
{% if object_list or user.is_staff %}
<section id="speakers" class="container">
    {% for speaker in object_list|randomify_by_date %}
        <div class="row {% cycle 'even' 'odd' %} speaker{% if not speaker.published %} preview{% endif %}" id="speaker-{{ speaker.pk }}">
            <div class="picture">
                {{ speaker.get_picture_html }}
                {% if user.is_staff %}
                    <a class="toolbox" href="{% url 'admin:speakers_speaker_change' speaker.pk %}">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                {% endif %}
                {% if speaker.twitter %}
                    <a class="toolbox" href="{{ speaker.twitter_link }}" title="@{{ speaker.twitter }}">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </a>
                {% endif %}
            </div>
            <div>
                <a href="{{ speaker.get_absolute_url }}"><h2 class="name">{{ speaker.name }}</h2></a>
                <p class="title">{{ speaker.talk_title }}</p>
                <p><a href="{{ speaker.get_absolute_url }}">See details</a></p>
            </div>
        </div>
    {% endfor %}
</section>
{% endif %}
{% endblock %}
